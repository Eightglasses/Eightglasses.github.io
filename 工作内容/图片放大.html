<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no" />
	<link rel="stylesheet" type="text/css" href="../index/public.css" />
	<link rel="stylesheet" type="text/css" href="../index/top.css" />
	<script src="js/public.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://www.jq22.com/demo/PinchZoomMobile20160926/js/pinchzoom.js"></script>
	<style type="text/css">
		#shadow {
			position: fixed;
			top: 0;
			width: 100%;
			bottom: 0;
			overflow: hidden;
			background: rgba(0, 0, 0, 1);
			z-index: 10000;
			display: none;
		}
		#shadow li {
			width: 100%;
			height: 100%;
			position: relative;
		}
		#shadow ul {
			position: absolute;
			top: 0;
			bottom: 0;
			width: 100%;
			white-space: nowrap;
		}
	</style>
</head>

<body style="background:#efeff4">

	<header class="clearfix header headerborder" id="finnalhead">
		<span class="head_title">图片</span>
	</header>
	<section>
		<div class="show">
			<ul>
				<li><img src="img/notdata.png"> </li>
				<li><img src="img/login.jpg"> </li>
				<li><img src="img/notdata.png"> </li>
			</ul>
		</div>
	</section>
	<div id="shadow">
		<ul class="">
		</ul>
	</div>
	<script type="text/javascript">
		var arrImg = new Array;
		var strImg = '';
		$('.show img').each(function(index, item) {
			arrImg.push($(item).attr('src'));
			strImg += '<li class="flex alignc"><img src=' + $(item).attr('src') + '/></li>'
		})
		$('#shadow ul').html(strImg);

		$('.show img').on('click', function() {
			$('#shadow').show();
		});

		window.onload = function() {
			var aShadow = document.getElementById('shadow');
			var lis = aShadow.getElementsByTagName('li');
			var flexs = shadow.getElementsByClassName('flex');
			var mouseDownX, moseMoveX;
			console.log(aShadow)
			for(var i = 0; i < lis.length; i++) {
				darg(lis[i]);
				console.log(lis[i])
			}

			$(function() {
				$('div.pinch-zoom').each(function() {
					new RTP.PinchZoom($(this), {});
				});
			})

		}

		function darg(_lis) {
			console.log(_lis)
			_lis.addEventListener("touchstart", function(event) {
				var touch = event.touches[0]; // touch
				mouseDownX = parseInt(touch.pageX); // 点击Y高度

			}, false);
			_lis.addEventListener("touchmove", function(event) {
				var touch = event.touches[0]; // touch
				moseMoveX = parseInt(touch.pageX); // 点击Y高度
				move = moseMoveX - mouseDownX;
				console.log(move)
				$(this).css('left', move + 'px')

			}, false);
			_lis.addEventListener("touchend", function(event) {

			}, false);
		};
	</script>
</body>

</html>